"""Промпты для генерации ответов"""

def get_review_prompt(review_text: str, product_name: str, rating: int,
                     user_name: str, pros: str = "", cons: str = "") -> str:
    """Создает промпт для ответа на отзыв"""

    review_info = []
    if product_name:
        review_info.append(f"Товар: {product_name}")
    if pros:
        review_info.append(f"Плюсы: {pros}")
    if cons:
        review_info.append(f"Минусы: {cons}")

    review_context = "\n".join(review_info) if review_info else "Дополнительная информация не указана"

    tone_guide = {
        1: "ОЧЕНЬ НЕГАТИВНЫЙ отзыв. Клиент сильно расстроен. Важно искренне извиниться, признать проблему и предложить конкретное решение.",
        2: "НЕГАТИВНЫЙ отзыв. Клиент недоволен. Выразите сожаление, покажите что проблема важна и предложите помощь.",
        3: "НЕЙТРАЛЬНЫЙ отзыв. Поблагодарите и покажите готовность улучшить сервис.",
        4: "ПОЗИТИВНЫЙ отзыв. Выразите благодарность и радость.",
        5: "ОЧЕНЬ ПОЗИТИВНЫЙ отзыв. Выразите восторг и благодарность."
    }

    tone = tone_guide.get(rating, tone_guide[3])
    name_instruction = "Обязательно используй плейсхолдер [имя] в ответе." if user_name else "Имя покупателя не указано, поэтому не используй обращение по имени."

    return f"""
    Отзыв покупателя: "{review_text}"

    Рейтинг: {rating}/5
    {review_context}

    Тон отзыва: {tone}
    {name_instruction}

    Пожалуйста, составь ответ который:
    - Благодарит за отзыв (если не 1-2 звезды)
    - Упоминает ключевую мысль отзыва
    - Короткий (2-3 предложения)
    - Дружелюбный и профессиональный
    - Не шаблонный, естественный
    - Для негативных отзывов: извиняется и предлагает решение
    - Для позитивных: выражает радость
    - Используй плейсхолдер [имя] для обращения к покупателю

    Ответ (только текст, без кавычек):
    """
